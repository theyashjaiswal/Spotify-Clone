(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(3),r=n.n(o),s=(n(11),n(5)),i=(n(12),n(13),"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("1f6b27b71a7c47d3886c752c3cebfd6f","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true"));var l=function(){return c.a.createElement("div",{className:"login"},c.a.createElement("img",{src:"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg",alt:""}),c.a.createElement("a",{href:i}," LOGIN WITH SPOTIFY"))},u=n(4),p=n.n(u);var d=function(e){return e.spotify,c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome to spotify"))},f=Object(a.createContext)(),m=function(e){var t=e.initialState,n=e.reducer,o=e.children;return c.a.createElement(f.Provider,{value:Object(a.useReducer)(n,t)},o)},h=new p.a;var y=function(){var e=Object(a.useContext)(f),t=Object(s.a)(e,2),n=t[0],o=(n.user,n.token),r=t[1];return Object(a.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(r({type:"SET_TOKEN",token:t}),h.setAccessToken(t),h.getMe().then((function(e){r({type:"SET_USER",user:e})})))}),[o,r]),c.a.createElement("div",{className:"App"},o?c.a.createElement(d,{spotify:h}):c.a.createElement(l,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(1),v=function(e,t){switch(console.log(t),t.type){case"SET_USER":return Object(E.a)(Object(E.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(E.a)(Object(E.a)({},e),{},{token:t.token});default:return e}};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,{initialState:{user:null,token:"1f6b27b71a7c47d3886c752c3cebfd6f",playlists:[],spotify:null,discover_weekly:null,top_artists:null,playing:!1,item:null},reducer:v},c.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.a79ab229.chunk.js.map